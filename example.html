
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
<script
  src="hattps://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  <script src="index.js"></script>

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
<form id="GeneralTerms">
<input id="myinput" value="If you change me and hit 'save', I ll send an ajax(General Terms) request otherwise, nothing will happen." >

</form>
<form id="Otherform">
This form will be part of the process only 2 seconds after document ready.
<input id="myinput" value="If you change me and hit 'save', I ll send an ajax(Otherform) request otherwise, nothing will happen." >

</form>
<div id="save">save</div>
</body>
<script>
$(document).ready(function(){


function updateGeneralTerms() {
            return {
                id: "GeneralTerms",
                ajax: function () {
                    return $.ajax({
                        type: 'POST',
                        url: "https://jsonplaceholder.typicode.com/posts",
                        data: $("form#GeneralTerms").serialize(),
                        dataType: "json"
                    })
                }

            }
        }
function OtherForm() {
            return {
                id: "Otherform",
                ajax: function () {
                    return $.ajax({
                        type: 'POST',
                        url: "https://jsonplaceholder.typicode.com/posts",
                        data: $("form#GeneralTerms").serialize(),
                        dataType: "json"
                    })
                }

            }
        }
  $("#save").multiAjaxFormIfItHasChanged([new updateGeneralTerms()])
  
  setTimeout(function(){
   $("#save").multiAjaxFormIfItHasChanged([new OtherForm()])
  },2000)
})
</script>
</html>
